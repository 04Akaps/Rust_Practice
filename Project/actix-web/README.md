docs를 봐가면서 만들어 보는 웹 서버

State같은 경우에는 모두가 공유하는 자원으로 web::Data<T>의 형태로 만들 수 있다.

- 즉 코드와 같이 만들게 되면 해당 값을 모두가 공유하게 된다.

web::Data::new를 밖에서 실행하는 이유는 다음과 같습니다.

1. Rust가 실행을 하게 되면 각각 쓰레드 마다 Object즉 공유 할 객체를 만들게 됩니다.
2. 만약 app_data내에서 객체를 생성한다면 쓰레드가 생성될떄마다 객체가 생성이 될 것이기 떄문에 같은 값을 공유할 수 없게 됩니다.
3. 그러기 떄문에 전역으로 만들어 주고 해당 값의 같은 메모리를 가르키게 만들어 줍니다.

Mutex는 동시성을 제어하기 위해서 사용됩니다.
서버는 여러개의 쓰레드로 동작이 이루어 지고. 이로 인해 같은 데이터에 다른 스레드가 여러번 접근할 수 있습니다.

이떄 이전의 값을 동일하게 가지고 있다고 갱신된 값을 참조하지 못해서 데이터가 손상될 수 있기 떄문에

이러한 점을 막기 위해서 Mutex타입을 활용하고 mutex타입은 lock을 통해 데이터를 잠그고 관리 할 수 있습니다.

- Mutex는 제가 이해한 바로는 이와 같습니다. 틀릴 수도 있으니 시간이 날떄마다 다시 doc를 읽어 보고자 합니다.
